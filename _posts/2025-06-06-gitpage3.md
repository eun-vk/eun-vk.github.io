---
layout: post
title: "FastAPI ë¼ìš°íŒ… ê°œë…ê³¼ GET ë©”ì„œë“œ í™œìš©ë²•"
categories: "Lecture-Notes"
--- 

-250530 ìˆ˜ì—… ë‚´ìš©- 
# ğŸš€ FastAPI HTTP ë©”ì„œë“œ ë¼ìš°íŒ…

## ë¼ìš°íŒ…ì´ë€?
* **URLê²½ë¡œë“¤ì˜ ì§‘í•©**ì„ ë§í•œë‹¤
* URLê²½ë¡œê°€ 5ê°œì´ë©´ APIë„ ì—”ë“œ í¬ì¸íŠ¸ë„ 5ê°œì´ë‹¤

### APIë¥¼ ë§ì•„ì„œ ì¤„ê²Œ! ğŸ’¬
- apië¥¼ ë°±ì—”ë“œì—ì„œ ë§ì•„ì„œ í”„ë¡ íŠ¸ì—”ë“œí•œí…Œ ë˜ì ¸ì¤€ë‹¤ëŠ” ê°œë°œì ì‚¬ì´ì˜ ì€ì–´ì´ë‹¤.
- ë¼ìš°íŒ…ì€ URL ê²½ë¡œì™€ ì²˜ë¦¬ í•¨ìˆ˜ë¥¼ ì—°ê²°í•˜ëŠ” ê²ƒì´ê³ , "APIë¥¼ ë§ì•„ì¤€ë‹¤"ëŠ” ê²ƒì€ ì´ëŸ° ë¼ìš°íŒ…ì„ í†µí•´ ì™„ì„±ëœ APIë¥¼ í”„ë¡ íŠ¸ì—”ë“œì— ì œê³µí•˜ëŠ” ê²ƒì´ë‹¤.

---

## ê¸°ë³¸ ë¼ìš°íŒ…

| ê²½ë¡œ | í•¨ìˆ˜ëª… | ì„¤ëª… |
|------|--------|------|
| `/` | read_root | `{"Hello": "World"}` ë°˜í™˜ |
| `/about` | about | `{"message": "about page"}` ë°˜í™˜ |
| `/contact` | contact | `{"message": "contact page"}` ë°˜í™˜ |
| `/notice` | notice | ê³µì§€ì‚¬í•­ ëª©ë¡ ë°˜í™˜ |

---

## CRUD ğŸ’¡

- **C** : ì°½ì¡°í•œë‹¤. = `post`
- **R** : ì •ë³´ë¥¼ ì¡°íšŒí•œë‹¤, ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤. = `get`
- **U** : ìˆ˜ì •í•œë‹¤. = `put`(ì „ì²´ ìˆ˜ì •) / `patch`(íŠ¹ì • ê°’ë§Œ ìˆ˜ì •)
- **D** : ì‚­ì œí•œë‹¤. = `delete`

---

## ë³¸ê²©ì ìœ¼ë¡œ ë§Œë“¤ì–´ë³´ê¸°!

### ê¸°ë³¸ êµ¬í˜„

```python
from fastapi import FastAPI, Request
from fastapi.responses import HTMLResponse
from fastapi.templating import Jinja2Templates

app = FastAPI()

@app.get("/blog/{post_id}")
def blog_detail(post_id: int):  # íƒ€ì…ì„ ê°•ì œí•¨
    return {"ê²Œì‹œë¬¼ ë²ˆí˜¸": post_id}
```

**ì¤‘ìš”!** íŒŒì´ì¬ì€ íƒ€ì…ì„ ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ ë§˜ëŒ€ë¡œ ì¶”ë¡ í•´ë²„ë¦°ë‹¤.  
ê·¸ë ‡ê¸° ë•Œë¬¸ì— íƒ€ì…ì„ ê°•ì œí•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤.

### ì„œë²„ ì‹¤í–‰

```bash
uvicorn main:app --reload
```

### ì ‘ì† ë° í…ŒìŠ¤íŠ¸

```
http://127.0.0.1:8000
```

**ì‹¤í–‰ ê²°ê³¼**
```json
{
  "detail": "Not Found"
}
```

> ì—”ë“œí¬ì¸íŠ¸ ê²½ë¡œì— ìŠ¬ë˜ì‹œë¥¼ ë§Œë“¤ì–´ ì£¼ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— Not Foundê°€ ëœ¬ë‹¤.

---

## /blog ë“¤ì–´ê°€ê¸°

```
http://127.0.0.1:8000/blog/1
```

**ì‹¤í–‰ ê²°ê³¼**
```json
{
  "ê²Œì‹œë¬¼ ë²ˆí˜¸": 1
}
```

> ë²ˆí˜¸ë¥¼ ë°”ê¿”ì£¼ë©´ ê²Œì‹œë¬¼ ë²ˆí˜¸ë„ ë³€í•œë‹¤.  
> ìš”ì²­í•œ ê°’ì— ë”°ë¼ ë°˜í™˜ë˜ëŠ” ê°’ë„ **ë™ì **ìœ¼ë¡œ ë³€í•œë‹¤.  
> ë§¤ê°œë³€ìˆ˜ `{post_id}`ì˜ ê°’ = ë™ì ì´ë‹¤.

---

## ê²½ë¡œì— ë§¤ê°œë³€ìˆ˜

### ë‹¤ì¤‘ ë§¤ê°œë³€ìˆ˜ ì˜ˆì œ

```python
@app.get("/blog/{post_id}")
def blog_detail(post_id: int):  # íƒ€ì…ì„ ê°•ì œí•¨
    return {"ê²Œì‹œë¬¼ ë²ˆí˜¸": post_id}
    
@app.get("/blog/{post_tag}/{post_author}")  # ë§¤ê°œë³€ìˆ˜ : 2ê°œ
def tag_author_list(post_tag: str, post_author: str):
    return {"íƒœê·¸": post_tag, "ì €ì": post_author}
```

> `post_tag` ì´ë¦„ì´ ê°™ê¸°ë•Œë¬¸ì— ìœ„ defì¤„ì— ìˆëŠ” ë§¤ê°œë³€ìˆ˜ëŠ” íƒ€ì…ì„ ì •í•´ì¤€ë‹¤.

### ğŸ’¡ ì´í•´í•˜ê¸°

> ì™œ ì´ë ‡ê²Œ ê²½ë¡œë¥¼ ì§°ì§€?  
> ì•„, ë¸”ë¡œê·¸ì˜ ì–´ë–¤ ëª©ë¡ì—ì„œ ëª©ë¡ì„ ê°€ì ¸ì˜¤ëŠ”ë° íŠ¹ì • íƒœê·¸ê°€ ìˆê³  íŠ¹ì • ì €ìë¡œ ê°€ì ¸ì˜¤ëŠ”êµ¬ë‚˜.  
> â†’ get ì•„, ë­”ê°€ ê°€ì ¸ì˜¤ëŠ”êµ¬ë‚˜. ì¡°íšŒí•˜ëŠ”êµ¬ë‚˜.  
> ë¸”ë¡œê·¸ì˜ ì–´ë–¤ íƒœê·¸ê°’, ì €ìê°’ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ”êµ¬ë‚˜.  
> ì´ëŸ°ì‹ìœ¼ë¡œ ìœ ì¶”í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

ì—¬ëŸ¬ê°€ì§€ ì¤‘ë³µ ê²½ë¡œ ë§¤ê°œ ë³€ìˆ˜ë¥¼ í†µí•´ì„œë„ api ì£¼ì†Œ ì¦‰ ì•¤ë“œí¬ì¸íŠ¸ ì£¼ì†Œë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```
http://127.0.0.1:8000/blog/jeju/max
```

íƒœê·¸ê°€ jejuì´ê³  ì €ìê°€ maxì¸ ì¹œêµ¬ë“¤ì˜ ë¸”ë¡œê·¸ ê¸€ ëª©ë¡ì„ ê°€ì ¸ì™€ë¼.

---

## ğŸ”¥ ì—°ìŠµí•˜ê¸°(ê²½ë¡œ ë§¤ê°œë³€ìˆ˜)

### 1. ì²˜ìŒì— ê¸°íšëœ URL ê²½ë¡œë¥¼ ëª¨ë‘ êµ¬í˜„í•˜ì„¸ìš”

```python
from fastapi import FastAPI, Request
from fastapi.responses import HTMLResponse
from fastapi.templating import Jinja2Templates

app = FastAPI()
blogs = ["ë¸”ë¡œê·¸1ë²ˆ", "ë¸”ë¡œê·¸2ë²ˆ", "ë¸”ë¡œê·¸3ë²ˆ", "4ë²ˆ"]

@app.get("/")
def index():
    return {"ì¸ì‚¬ë§": "ì•ˆë…•í•˜ì„¸ìš”"}
    
@app.get("/blog")
def blog_list():
    return {"ëª©ë¡": blogs}
    
@app.get("/blog/{post_id}")
def blog_detail(post_id: int):  # íƒ€ì…ì„ ê°•ì œí•¨   
    return {"ê²Œì‹œë¬¼ ë²ˆí˜¸": post_id}
```

**ì—ëŸ¬ ë‚˜ëŠ” ê²ƒì´ ì •ìƒ â†’ ë¼ìš°íŠ¸ ì¶©ëŒ**  
íƒ€ì…ì´ intì¸ë° ì•„ë˜ì—ì„œëŠ” strì„ ë°›ìœ¼ë¼ê³  í•´ì„œ

```python
@app.get("/blog/{post_tag}")  
def tag_list(post_tag: str):
    b = []
    for blog in blogs: 
        if post_tag in blog:
            b.append(blog)
    
    return {"ë¸”ë¡œê·¸(íƒœê·¸) ëª©ë¡": b}
    
# ë¸”ë¡œê·¸ ë¦¬ìŠ¤íŠ¸ì— ëŒ€í•œ ë‚´ìš©ì„ ë°˜ë³µí•˜ë©´ì„œ 
# íƒœê·¸ ì´ë¦„ì„ í¬í•¨í•œ ì¹œêµ¬ë“¤ì˜ ëª©ë¡ë§Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê² ë‹¤
    
@app.get("/blog/{post_tag}/{post_author}")  # ë§¤ê°œë³€ìˆ˜ : 2ê°œ
def tag_author_list(post_tag: str, post_author: str):
    return {"íƒœê·¸": post_tag, "ì €ì": post_author}
```

---

### 2. "hello/{name}" ê²½ë¡œ ë§Œë“¤ê¸°

ì£¼ì–´ì§„ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ì¸ì‚¬ë§ì„ ë°˜í™˜í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”.

### 3. "/calculate/{operation}/{a}/{b}" ê²½ë¡œ ë§Œë“¤ê¸°

- operation: "add", "subtract", "multiply", "divide" ì¤‘ í•˜ë‚˜
- aì™€ b: ì •ìˆ˜
- í•´ë‹¹ ì—°ì‚°ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜
