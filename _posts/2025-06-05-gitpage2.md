
---
layout: single
title: "FastAPI 개발 환경 설정 및 기초"
categories: "기술_궁금노트"
--- 


## 💡 프레임워크 vs. 라이브러리 vs. 서드파티 vs. API

  * **프레임워크**: 개발의 큰 흐름과 구조를 제공하며, 개발자는 프레임워크의 규칙에 따라 코드를 작성합니다. 마치 집을 지을 때 골조가 미리 정해져 있는 것과 같습니다.
  * **라이브러리**: 개발자가 계획한 프로세스 흐름에 필요한 특정 기능을 수행하는 도구입니다. 필요한 시점에 가져다 사용하는 '도구 상자'와 같습니다.
  * **서드파티**: 네이버, 카카오 등 다른 기업에서 제공하는 API 파일을 활용하는 것을 의미합니다.
  * **API (Application Programming Interface)**: 소프트웨어 또는 애플리케이션 간의 소통 수단이자 약속입니다. 웹 개발에서는 RESTful API를 통해 클라이언트와 서버가 요청(request)과 응답(response) 형식으로 통신합니다.

-----

## 💡 가상 환경을 만드는 이유

프로젝트 개발 시 **독립적인 환경을 구성**하여 각 프로젝트 간의 환경 충돌을 방지하기 위함입니다. 하나의 가상 환경을 만들고 여러 프로젝트 폴더가 이를 공유하여 사용할 수 있습니다.

### 가상 환경의 구조 (예시)

```
프로젝트_루트/
├── venv/                    # 🔹 하나의 가상환경 (최상위)
├── 프로젝트1/
│   ├── main.py
│   └── requirements.txt
├── 프로젝트2/
│   ├── app.py
│   └── config.py
└── 프로젝트3/
    ├── server.py
    └── models.py
```

### ✅ 장점

  * **패키지 관리가 통합적**으로 이루어집니다.
  * 여러 프로젝트 간의 **의존성 충돌을 방지**합니다.
  * 가상 환경 관리가 **단순**해집니다.

-----

## 🚀 FastAPI 앱 실행하기

이제 FastAPI 앱을 가상 환경에서 실행하는 과정을 살펴보겠습니다.

### 1\. **가상 환경 만들기**

프로젝트 루트 폴더에서 다음 명령어를 실행하여 가상 환경을 생성합니다.

```bash
python -m venv venv
```

**Q. 이렇게 만든 가상 환경에 FastAPI나 Uvicorn이 설치되어 있을까요?**  
A. 아닙니다. 아직 아무 패키지도 설치되지 않은 빈 환경입니다.

-----

### 2\. **가상 환경 활성화**

가상 환경을 활성화해야 해당 환경에 패키지를 설치하고 실행할 수 있습니다. 활성화하지 않으면 패키지가 시스템 전역(Global) Python 환경에 설치될 수 있습니다.

```bash
# Windows
.\venv\Scripts\activate

# macOS/Linux
source venv/bin/activate
```

-----

### 3\. **FastAPI 및 Uvicorn 설치**

가상 환경이 활성화된 상태에서 FastAPI와 Uvicorn을 설치합니다.

```bash
pip install uvicorn fastapi
```

-----

### 4\. **FastAPI 앱 실행**

어제 만든 FastAPI 앱이 있는 폴더(예: `250529`)로 이동하여 앱을 실행합니다.

```bash
cd 250529 # FastAPI 앱이 있는 폴더로 이동
uvicorn main:app --reload # 해당 폴더의 FastAPI 앱 실행
```

  * `main:app`: `main.py` 파일 내의 `app` 객체를 실행하라는 의미입니다.
  * `--reload`: 코드 변경 시 서버를 **자동으로 재시작**하여 변경 사항을 즉시 반영합니다. 개발 중에 매우 유용합니다.

**Q. 이 상태가 무슨 상태일까요?**  
A. 서버가 **실행되고 있는 상태**입니다. 이 상태를 멈추면 웹 페이지에 접속하거나 API 요청을 할 수 없습니다.



> 💡 **Tip: 서버가 '죽었다'는 표현**
>
> 웹 페이지에 에러가 뜰 때 흔히 "서버가 죽었다"고 표현합니다. 이는 사용자의 요청을 처리할 수 있는 애플리케이션이 실행되고 있지 않다는 의미입니다.


> 💡 **Tip: 실무에서 `--reload` 비활성화가 기본인 이유**
>
> 실무 환경에서는 `--reload` 옵션을 기본적으로 비활성화합니다.
>
>   * **서비스 중단**: 코드 변경 시 자동 재시작은 사용자가 접속 중일 때 서비스가 일시적으로 중단됨을 의미합니다.
>   * **데이터 손실 가능성**: 예측하지 못한 재시작으로 인해 처리 중이던 데이터가 손실될 가능성이 있습니다.

-----

### 5\. **서버 종료하기**

실행 중인 서버를 종료하려면 터미널에서 `Ctrl + C`를 누릅니다.

```bash
# 서버 종료
Ctrl + C
```

-----

## 📍 개념 확인: `http://127.0.0.1:8000`이란?

터미널에 나타나는 `http://127.0.0.1:8000`은 다음과 같은 의미를 가집니다.

  * `127.0.0.1`: \*\*로컬 호스트(localhost)\*\*를 의미하는 IP 주소입니다. 현재 사용 중인 PC 자신을 가리키는 고정적인 주소입니다.
  * `8000`: \*\*포트(Port)\*\*를 의미합니다. 컴퓨터가 공항이라면, 포트는 특정 서비스를 위한 '게이트' 역할을 합니다. 애플리케이션은 이 게이트를 통해 통신합니다.

**비유**:

  * **PC**: 공항
  * **포트 (예: 8000)**: 게이트
  * **애플리케이션**: 비행기

하나의 PC에서 8000번, 8001번 등 여러 포트를 통해 두 가지 이상의 애플리케이션 API를 동시에 띄울 수 있습니다. 그러나 **같은 번호의 포트를 동시에 띄울 경우 에러가 발생**합니다.

실무에서는 서비스 업데이트 시 에러나 중단 현상을 막기 위해 새로운 포트에 업데이트된 애플리케이션을 띄운 후 트래픽을 전환하는 방식을 사용하기도 합니다. 하지만 PC의 자원이 한정되어 있으므로 너무 많은 포트와 애플리케이션을 동시에 실행하면 시스템에 부담을 줄 수 있습니다. 따라서 작업을 마쳤으면 `Ctrl + C`로 서버를 종료하는 것이 좋습니다.

-----

## 📁 새 폴더로 이동 및 파일 생성

이제 새로운 폴더로 이동하여 `main.py` 파일을 만들어 보겠습니다.

```bash
cd ..      # 상위 폴더로 이동
cd 250530  # 250530 폴더로 이동
```

`250530` 폴더 안에 `main.py` 파일을 생성하고 다음 코드를 추가합니다.

```python
from fastapi import FastAPI, Request
from fastapi.responses import HTMLResponse
from fastapi.templating import Jinja2Templates

app = FastAPI()
```
